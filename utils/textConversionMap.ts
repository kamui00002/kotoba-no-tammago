// utils/textConversionMap.ts

/**
 * 漢字からひらがなへの変換マップ
 * 初級レベルの学習者向けに、UIテキストをひらがなに変換するために使用
 */
export const TEXT_CONVERSION_MAP: Record<string, string> = {
    // キャラクター名
    "妖精見習い": "ようせいみならい",
    "妖精": "ようせい",
    "魔法使い見習い": "まほうつかいみならい",
    "魔法使い": "まほうつかい",
    "騎士見習い": "きしみならい",
    "騎士": "きし",
    "発明家見習い": "はつめいかみならい",
    "発明家": "はつめいか",

    // UI要素
    "英語クイズ開始": "えいごくいずかいし",
    "設定": "せってい",
    "統計": "とうけい",
    "情報": "じょうほう",
    "レベル": "れべる",
    "経験値": "けいけんち",
    "今日": "きょう",
    "回": "かい",
    "日目": "にちめ",
    "単語": "たんご",
    "個": "こ",

    // レベル表記
    "初級": "しょきゅう",
    "中級": "ちゅうきゅう",
    "上級": "じょうきゅう",
    "選択": "せんたく",
    "学習": "がくしゅう",
    "中学英語": "ちゅうがくえいご",
    "日常英単語": "にちじょうえいたんご",
    "頻出単語": "ひんしゅつたんご",
    "難関英単語": "なんかんえいたんご",

    // 統計画面
    "学習レベル": "がくしゅうれべる",
    "連続学習日数": "れんぞくがくしゅうにっすう",
    "累計学習時間": "るいけいがくしゅうじかん",
    "累計学習単語": "るいけいがくしゅうたんご",
    "正解率": "せいかいりつ",
    "データリセット": "でーたりせっと",
    "リセット": "りせっと",
    "デバッグ機能": "でばっぐきのう",
    "デバッグ": "でばっぐ",
    "テスト用機能": "てすとようきのう",
    "総学習時間": "そうがくしゅうじかん",
    "分": "ふん",
    "時間": "じかん",
    "日": "にち",
    "現在": "げんざい",
    "作成者": "さくせいしゃ",

    // クイズ関連
    "クイズ": "くいず",
    "正解": "せいかい",
    "不正解": "ふせいかい",
    "次へ": "つぎへ",
    "結果": "けっか",
    "点": "てん",
    "スコア": "すこあ",
    "獲得経験値": "かくとくけいけんち",
    "戻る": "もどる",
    "読み込めませんでした": "よみこめませんでした",

    // MBTI診断
    "診断": "しんだん",
    "再診断": "さいしんだん",
    "質問": "しつもん",
    "回答": "かいとう",
    "タイプ": "たいぷ",

    // 進化関連
    "進化": "しんか",
    "卵": "たまご",
    "子供": "こども",
    "成長": "せいちょう",
    "変更": "へんこう",

    // 一般的な単語
    "学校": "がっこう",
    "先生": "せんせい",
    "生徒": "せいと",
    "勉強": "べんきょう",
    "教室": "きょうしつ",
    "友達": "ともだち",
    "家族": "かぞく",
    "兄弟": "きょうだい",
    "姉妹": "しまい",
    "両親": "りょうしん",
    "父": "ちち",
    "母": "はは",
    "図書館": "としょかん",
    "本": "ほん",
    "音楽": "おんがく",
    "映画": "えいが",
    "食事": "しょくじ",
    "朝食": "ちょうしょく",
    "昼食": "ちゅうしょく",
    "夕食": "ゆうしょく",
    "料理": "りょうり",
    "買い物": "かいもの",
    "店": "みせ",
    "公園": "こうえん",
    "駅": "えき",
    "電車": "でんしゃ",
    "自転車": "じてんしゃ",
    "車": "くるま",
    "天気": "てんき",
    "晴れ": "はれ",
    "雨": "あめ",
    "雪": "ゆき",
    "風": "かぜ",
    "春": "はる",
    "夏": "なつ",
    "秋": "あき",
    "冬": "ふゆ",
    "朝": "あさ",
    "昼": "ひる",
    "夜": "よる",
    "明日": "あした",
    "昨日": "きのう",
    "週末": "しゅうまつ",
    "休日": "きゅうじつ",
    "仕事": "しごと",
    "会社": "かいしゃ",
    "病院": "びょういん",
    "医者": "いしゃ",
    "看護師": "かんごし",
    "薬": "くすり",
    "運動": "うんどう",
    "試合": "しあい",
    "練習": "れんしゅう",
    "趣味": "しゅみ",
    "旅行": "りょこう",
    "写真": "しゃしん",
    "絵": "え",
    "色": "いろ",
    "赤": "あか",
    "青": "あお",
    "黄色": "きいろ",
    "緑": "みどり",
    "白": "しろ",
    "黒": "くろ",
    "大きい": "おおきい",
    "小さい": "ちいさい",
    "新しい": "あたらしい",
    "古い": "ふるい",
    "高い": "たかい",
    "安い": "やすい",
    "多い": "おおい",
    "少ない": "すくない",
    "良い": "よい",
    "悪い": "わるい",
    "早い": "はやい",
    "遅い": "おそい",

    // クイズ単語（初級）
    "犬": "いぬ",
    "猫": "ねこ",
    "花": "はな",
    "家": "いえ",
    "氷": "こおり",
    "鍵": "かぎ",
    "愛": "あい",
    "お金": "おかね",
    "鉛筆": "えんぴつ",
    "女王": "じょおう",
    "太陽": "たいよう",
    "木": "き",
    "傘": "かさ",
    "水": "みず",
    "箱": "はこ",
    "年": "とし",
    "動物園": "どうぶつえん",

    // クイズ単語（中級）
    "冒険": "ぼうけん",
    "美しい": "うつくしい",
    "挑戦": "ちょうせん",
    "発見する": "はっけんする",
    "環境": "かんきょう",
    "未来": "みらい",
    "政府": "せいふ",
    "歴史": "れきし",
    "重要な": "じゅうような",
    "旅": "たび",
    "知識": "ちしき",
    "言語": "げんご",
    "山": "やま",
    "自然": "しぜん",
    "機会": "きかい",
    "問題": "もんだい",
    "研究": "けんきゅう",
    "科学": "かがく",
    "技術": "ぎじゅつ",
    "宇宙": "うちゅう",
    "休暇": "きゅうか",
    "素晴らしい": "すばらしい",
    "熱心な": "ねっしんな",

    // クイズ単語（上級）
    "蓄積する": "ちくせきする",
    "慈悲深い": "じひぶかい",
    "良心的な": "りょうしんてきな",
    "委任する": "いにんする",
    "雄弁な": "ゆうべんな",
    "不屈の精神": "ふくつのせいしん",
    "社交的な": "しゃこうてきな",
    "階層": "かいそう",
    "特異性": "とくいせい",
    "並置": "へいち",
    "万華鏡": "まんげきょう",
    "迷宮": "めいきゅう",
    "寛大な": "かんだいな",
    "郷愁": "きょうしゅう",
    "曖昧にする": "あいまいにする",
    "典型的な": "てんけいてきな",
    "回復力": "かいふくりょく",
    "思わぬ幸運": "おもわぬこううん",
    "切り詰める": "きりつめる",
    "遍在する": "へんざいする",
    "代理の": "だいりの",
    "物思いに沈んだ": "ものおもいにしずんだ",
    "外国人嫌い": "がいこくじんぎらい",
    "切望する": "せつぼうする",
    "天頂": "てんちょう",
};

/**
 * 再帰的にテキストを変換する関数
 * @param text - 変換対象のテキスト
 * @returns 変換後のテキスト
 */
export function convertText(text: string): string {
    let result = text;

    // 長い単語から順に変換（部分一致を避けるため）
    const sortedEntries = Object.entries(TEXT_CONVERSION_MAP).sort(
        ([a], [b]) => b.length - a.length
    );

    for (const [kanji, hiragana] of sortedEntries) {
        result = result.replace(new RegExp(kanji, 'g'), hiragana);
    }

    return result;
}

